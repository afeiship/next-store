{"version":3,"sources":["next-store.js"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"next-store.js","sourcesContent":["(function() {\n  var global = global || this || window || Function('return this')();\n  var nx = global.nx || require('@feizheng/next-js-core2');\n\n  var NxLocalStorage = nx.LocalStorage || require('@feizheng/next-local-storage');\n  var NxSessionStorage = nx.SessionStorage || require('@feizheng/next-session-storage');\n  var DEFAULT_OPTIONS = { prefix: '', purify: false };\n\n  //engie list:\n  var NxStore = nx.declare('nx.Store', {\n    properties: {\n      local: {\n        get: function() {\n          return this._localStorage.gets();\n        },\n        set: function(inValue) {\n          this._localStorage.sets(inValue);\n        }\n      },\n      session: {\n        get: function() {\n          return this._sessionStorage.gets();\n        },\n        set: function(inValue) {\n          this._sessionStorage.sets(inValue);\n        }\n      }\n    },\n    methods: {\n      init: function(inOptions) {\n        var options = nx.mix(null, DEFAULT_OPTIONS, inOptions);\n        // prefix storage:\n        this._localStorage = new NxLocalStorage(options.prefix);\n        this._sessionStorage = new NxSessionStorage(options.prefix);\n        // pureify storage:\n        if (options.purify) {\n          this.localStorage = new NxLocalStorage();\n          this.sessionStorage = new NxSessionStorage();\n        }\n      },\n      config: function(inOptions) {\n        nx.mix(this._localStorage, inOptions);\n        nx.mix(this._sessionStorage, inOptions);\n      },\n      $: function(inEngine, inIsPurify) {\n        var prefix = inIsPurify ? '' : '_';\n        return this[prefix + inEngine + 'Storage'];\n      }\n    }\n  });\n\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = NxStore;\n  }\n})();\n"]}